<!DOCTYPE html>
<html lang="vi-VN">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>OMiCall SDK Example</title>

	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">

	<link omi-sdk-css rel="stylesheet" href="styles.css">

</head>

<body>

	<script omi-sdk type="text/javascript" src="https://cdn.omicrm.com/sdk/2.0.0/sdk.min.js"></script>

	<script>
		/*
		 * Mở file index.html trên localhost bằng Live Server mới có thể thực hiện cuộc gọi
		 * Extension Live Server cho Visual Studio Code: https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer
		 * http://localhost:5500/index.html
		 */
		document.addEventListener('DOMContentLoaded', () => {
			let config = {
				theme: 'default',
				debug: false,
				busy: true,
				language: 'vi',
				ringtoneVolume: 1,
				options: {
					hideCallButton: false,
					showContactLoading: false,
				},
				classes: {
					btnToggle: 'custom-btn-toggle-call btn-call-left',
					dialog: 'custom-dialog-call dialog-call-left',
				},
				styles: {
					btnToggle: {
						'background-color': 'red',
						justifyContent: 'center',
						color: 'red',
					},
					dialog: {
						'background-color': 'gray',
						justifyContent: 'center',
						color: 'pink',
					},
				},
				callbacks: {
					register: (data) => {
						// Sự kiện xảy ra khi trạng thái kết nối tổng đài thay đổi
						console.log('register:', data);
					},
					connecting: (data) => {
						// Sự kiện xảy ra khi bắt đầu thực hiện cuộc gọi ra
						console.log('connecting:', data);
					},
					invite: (data) => {
						// Sự kiện xảy ra khi có cuộc gọi tới
						console.log('invite:', data);
					},
					inviteRejected: (data) => {
						// Sự kiện xảy ra khi có cuộc gọi tới, nhưng bị tự động từ chối
						// trong khi đang diễn ra một cuộc gọi khác
						console.log('inviteRejected:', data);
					},
					ringing: (data) => {
						// Sự kiện xảy ra khi cuộc gọi ra bắt đầu đổ chuông
						console.log('ringing:', data);
					},
					accepted: (data) => {
						// Sự kiện xảy ra khi cuộc gọi vừa được chấp nhận
						console.log('accepted:', data);
					},
					incall: (data) => {
						// Sự kiện xảy ra mỗi 1 giây sau khi cuộc gọi đã được chấp nhận
						console.log('incall:', data);
					},
					acceptedByOther: (data) => {
						// Sự kiện dùng để kiểm tra xem cuộc gọi bị kết thúc
						// đã được chấp nhận ở thiết bị khác hay không
						console.log('acceptedByOther:', data);
					},
					ended: (data) => {
						// Sự kiện xảy ra khi cuộc gọi kết thúc
						console.log('ended:', data);
					},
					holdChanged: (status) => {
						// Sự kiện xảy ra khi trạng thái giữ cuộc gọi thay đổi
						console.log('on hold:', status);
					},
				}
			};
			omiSDK.init(config, () => {
				omiSDK.register({
					domain: '',
					username: '',
					password: ''
				});
			});
		});
	</script>

</body>

</html>